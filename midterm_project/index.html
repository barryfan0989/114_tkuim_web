<!DOCTYPE html>
<html lang="zh-Hant" data-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>演唱會行程規劃器</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header class="border-bottom bg-body sticky-top">
        <nav class="navbar navbar-expand-lg container">
            <a class="navbar-brand fw-bold" href="#">🎫 演唱會行程規劃器</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="nav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="#events">活動列表</a></li>
                <li class="nav-item"><a class="nav-link" href="#budget">預算試算</a></li>
                <li class="nav-item"><a class="nav-link" href="#subscribe">開賣通知</a></li>
            </ul>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="themeToggle">
                <label class="form-check-label" for="themeToggle">深色模式</label>
            </div>
        </div>
    </nav>
</header>


<main class="container py-4">
<!-- 篩選 / 搜尋 / 排序 -->
    <section class="mb-4" aria-labelledby="filtersTitle">
        <h2 id="filtersTitle" class="h4 mb-3">🔎 篩選與搜尋</h2>
        <div class="row g-2 align-items-end">
        <div class="col-12 col-md-4">
            <label for="search" class="form-label">關鍵字</label>
            <input id="search" class="form-control" type="search" placeholder="歌手、場館、城市…">
        </div>
        <div class="col-6 col-md-3">
            <label for="city" class="form-label">城市</label>
            <select id="city" class="form-select">
                <option value="">全部</option>
            </select>
        </div>
        <div class="col-6 col-md-3">
            <label for="sort" class="form-label">排序</label>
            <select id="sort" class="form-select">
                <option value="dateAsc">日期（近→遠）</option>
                <option value="dateDesc">日期（遠→近）</option>
                <option value="priceAsc">票價（低→高）</option>
                <option value="priceDesc">票價（高→低）</option>
            </select>
        </div>
        <div class="col-12 col-md-2 d-grid">
            <button id="resetFilters" class="btn btn-outline-secondary">重置</button>
        </div>
    </div>
</section>


<!-- 活動清單 -->
<section id="events" aria-labelledby="eventsTitle">
    <h2 id="eventsTitle" class="h4 mb-3">🎵 活動列表</h2>
    <div id="cards" class="row g-3">
    <!-- JS 動態注入卡片 -->
    </div>
</section>


<hr class="my-5" />


<!-- 即時計算：預算試算器 -->
<section id="budget" aria-labelledby="budgetTitle">
    <h2 id="budgetTitle" class="h4 mb-3">💰 預算試算</h2>
    <form class="row gy-3" novalidate>
        <div class="col-12 col-md-4">
            <label class="form-label" for="ticketPrice">單張票價 (NT$)</label>
            <input id="ticketPrice" class="form-control" type="number" min="0" step="100" required>
            <div class="invalid-feedback">請輸入正確票價（例如 3200）。</div>
        </div>
        <div class="col-12 col-md-4">
            <label class="form-label" for="ticketQty">張數</label>
            <input id="ticketQty" class="form-control" type="number" min="1" step="1" required>
            <div class="invalid-feedback">至少買 1 張。</div>
        </div>
        <div class="col-12 col-md-4">
            <label class="form-label" for="serviceFee">手續費 (NT$ / 張)</label>
            <input id="serviceFee" class="form-control" type="number" min="0" step="10" value="60" required>
            <div class="invalid-feedback">請輸入手續費。</div>
        </div>
        <div class="col-12">
            <div class="p-3 bg-body-tertiary rounded d-flex justify-content-between align-items-center">
                <span class="fw-semibold">總金額：</span>
                <output id="total" class="fs-4">NT$ 0</output>
            </div>
        </div>
        <div class="col-12 d-grid d-md-flex gap-2">
            <button id="saveBudget" type="button" class="btn btn-primary">儲存到最愛預算</button>
            <button id="clearBudget" type="button" class="btn btn-outline-secondary">清除</button>
        </div>
    </form>
</section>


<hr class="my-5" />


<!-- 表單驗證：開賣通知訂閱 -->
 <section id="subscribe" aria-labelledby="subTitle">
    <h2 id="subTitle" class="h4 mb-3">📬 開賣通知訂閱</h2>
    <form id="subForm" class="row gy-3" novalidate>
        <div class="col-12 col-md-6">
            <label for="email" class="form-label">Email</label>
            <input id="email" name="email" class="form-control" type="email" placeholder="name@example.com" required>
            <div class="invalid-feedback">請輸入有效 Email。</div>
        </div>
        <div class="col-12 col-md-6">
            <label for="password" class="form-label">設定密碼</label>
            <input id="password" name="password" class="form-control" type="password" minlength="8" pattern="(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}" required>
            <div class="form-text">至少 8 碼，需含大小寫與數字。</div>
            <div class="invalid-feedback">密碼需含大小寫與數字且至少 8 碼。</div>
        </div>
        <div class="col-12">
            <label for="agree" class="form-check">
                <input id="agree" class="form-check-input" type="checkbox" required>
                <span class="form-check-label">我同意服務條款</span>
            </label>
            <div class="invalid-feedback d-block" id="agreeError" hidden>請勾選同意條款。</div>
        </div>
        <div class="col-12 d-grid d-md-flex gap-2">
            <button class="btn btn-success" type="submit">訂閱</button>
            <button class="btn btn-outline-danger" type="reset">清除</button>
        </div>
    </form>
</section>
</main>


<!-- 詳情 Modal -->
<div class="modal fade" id="detailModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img id="mImg" class="img-fluid rounded mb-3" alt="活動圖" />
                <p id="mDesc" class="mb-1"></p>
                <p class="text-secondary" id="mMeta"></p>
            </div>
        </div>
    </div>
</div>


<footer class="container py-4 text-center text-secondary">
<small>© 2025 Concert Planner – Built with Bootstrap 5</small>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
</body>
</html>